## اگر در آینده به فیلترهای بیشتر و کوئری‌های پیچیده‌تری در پروژه نیاز باشد چه باید کرد؟


با استفاده از design patternها و رعایت اصول SOLID سعی کردم به گونه‌ای پیاده‌سازی را انجام دهم که برای اضافه کردن فیلترهای جدید با هر سطح پیچیدگی کوئری مشکلی وجود نداشته باشد.
معماری ماژولار، انعطاف‌پذیر و توسعه‌پذیری که برای این پیاده‌سازی استفاده شده این امر را ممکن می‌کند. به عنوان مثال با استفاده از الگوی Specification برای پیاده‌سازی فیلترها، قوانین را کپسوله کردم. به کمک این الگو اضافه کردن هر فیلتر جدید بدون تغییر کد‌های فعلی قابل انجام است و اصل Open/Closed هم رعایت می‌شود. در این حالت، هر فیلتر یک ماژول کوچک است که هر سطح از پیچیدگی کوئری در آن به راحتی قابل پیاده‌سازی است.
با ترکیب این پترن با Repository Pattern امکان ترکیب قوانین پیچیده فیلترینگ در یک کلاس مرکزی فراهم می‌شود. به کمک این پترن می‌توان تمام دسترسی به دیتا را پشت یک اینترفیس کپسوله قرار داد و کل موجودیت را یک بلک‌باکس دید که فارغ از اتفاقات پشت آن، یک کالکشن به ما تحویل می‌دهد. ترکیب این دو پترن امکان ترکیب و استفاده از کوئری‌ها و شرط‌ها در سایر بخش‌های اپ را هم به سادگی فراهم می‌کند.
در حالتی که در آینده کوئری‌ها پیچیده‌تر شوند، برای پیاده‌سازی هر کدام می‌توان از Builder Pattern استفاده کرد. بخش‌های مختلف کوئری را به صورت مجزا ساخت و با ترکیب آن‌ها در نهایت به کوئری مورد نظر رسید.
همجنین برای مدیریت بهتر فیلترهای جدیدی که در آینده قرار است اضافه شود، بهتر است از Feature toggles استفاده شود تا بتوان تغییرات را با اطمینان و به صورت مقطعی فعال کرد.
